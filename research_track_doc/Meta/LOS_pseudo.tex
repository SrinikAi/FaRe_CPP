\documentclass{article}
\usepackage{algorithm}
\usepackage{algpseudocode}

\begin{document}

\begin{algorithm}
\caption{Line of Sight Algorithm}
\begin{algorithmic}[1] % The number tells where the line numbering should start
\Function{LineOfSight}{$grid\_map, start, end, unoccupied\_value$}
    \State $x0, y0 \gets start$
    \State $x1, y1 \gets end$
    \State $dx \gets \Call{Abs}{x1 - x0}$
    \State $dy \gets -\Call{Abs}{y1 - y0}$
    \State $sx \gets \textbf{if } x0 < x1 \textbf{ then } 1 \textbf{ else } -1$
    \State $sy \gets \textbf{if } y0 < y1 \textbf{ then } 1 \textbf{ else } -1$
    \State $err \gets dx + dy$
    \While{\textbf{True}}
        \If{$x0 = x1 \textbf{ and } y0 = y1$}
            \State \Return \textbf{True}
        \EndIf
        \If{$grid\_map[x0, y0] \neq unoccupied\_value$}
            \State \Return \textbf{False}
        \EndIf
        \State $e2 \gets 2 \times err$
        \If{$e2 \geq dy$}
            \State $err \gets err + dy$
            \State $x0 \gets x0 + sx$
        \EndIf
        \If{$e2 \leq dx$}
            \State $err \gets err + dx$
            \State $y0 \gets y0 + sy$
        \EndIf
    \EndWhile
    \State \Return $(x1,y1)$
\EndFunction
\end{algorithmic}
\end{algorithm}

\end{document}

